<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Moll - Feliz Aniversario</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
        /* --- ESTILOS CSS --- */
        :root {
            --bg-color: #050505; /* Negro profundo */
            --accent-color: #f8d568; /* Color dorado cálido, como la luz de la foto */
            --text-color: #ffffff;
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background-color: var(--bg-color);
            font-family: 'Montserrat', sans-serif;
            overflow: hidden; /* Evitar scroll */
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        /* Pantalla de inicio (Botón) */
        #start-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 0.8s ease-out;
        }

        #start-button {
            padding: 15px 40px;
            font-size: 1.2rem;
            background: transparent;
            color: var(--accent-color);
            border: 2px solid var(--accent-color);
            border-radius: 30px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s ease;
        }

        #start-button:hover {
            background: var(--accent-color);
            color: var(--bg-color);
            box-shadow: 0 0 20px var(--accent-color);
        }

        /* Contenedor Principal de la Experiencia */
        #main-container {
            position: relative;
            width: 90vw;
            max-width: 600px;
            height: 70vh;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0; /* Oculto al principio */
            transition: opacity 1s ease-in;
        }

        /* La Foto Real */
        #photo {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: contain; /* Ajusta la foto sin cortarla */
            opacity: 0;
            transition: opacity 3s ease-in-out; /* Transición muy suave */
            z-index: 1;
        }

        /* El Dibujo SVG */
        #svg-container {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 2;
        }

        .svg-path {
            fill: none;
            stroke: var(--accent-color); /* Color del trazo */
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            /* Truco para la animación de dibujo: */
            stroke-dasharray: 2000; /* Un número grande para cubrir todo el trazo */
            stroke-dashoffset: 2000; /* Empieza oculto */
            /* La animación se define aquí pero se activa con JS */
        }

        /* Animación de dibujo activada */
        .animate-draw {
            animation: drawStroke 5s ease-in-out forwards;
        }
        
        .fade-out-svg {
            transition: opacity 1s ease-out;
            opacity: 0;
        }

        @keyframes drawStroke {
            to {
                stroke-dashoffset: 0; /* Termina visible */
            }
        }

        /* Contenedor de Textos */
        #text-container {
            margin-top: 20px;
            text-align: center;
            color: var(--text-color);
            z-index: 3;
            max-width: 80%;
        }

        .romantic-phrase {
            font-weight: 300;
            font-size: 1.1rem;
            line-height: 1.6;
            opacity: 0;
            margin-bottom: 30px;
            /* La transición se maneja con JS para el timing */
        }

        .main-title {
            font-family: 'Dancing Script', cursive; /* Fuente estilo firma */
            font-size: 2.5rem;
            color: var(--accent-color);
            margin: 0;
            opacity: 0;
        }
        
        .emphasis {
             font-weight: 700;
             font-size: 1.3rem;
             display: block;
             margin-top: 10px;
        }

        /* Clases de utilidad para aparecer */
        .fade-in {
            opacity: 1 !important;
            transition: opacity 2s ease-in-out;
        }

    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="cancion.mp3" type="audio/mpeg">
    </audio>

    <div id="start-screen">
        <button id="start-button">Abrir Regalo</button>
    </div>

    <div id="main-container">
        <img id="photo" src="pareja.jpg" alt="Nosotros">
        
        <svg id="svg-container" viewBox="0 0 500 500" preserveAspectRatio="xMidYMid meet">
             <path class="svg-path" d="M152.6,163.8c-5.3-4.1-12.8-11.2-13.6-19.4s3.7-19.4,10.5-27s17.2-13.9,28.1-13.5s23.6,8.2,28.1,13.1s7.5,12,8.6,18c1.1,6,1.9,12.8,7.9,15c6,2.3,18.8,0,30-4.9s25.1-11.6,36.4-10.5c11.3,1.1,18,10.1,22.1,19.1c4.1,9,7.9,18.8,4.9,31.1c-3,12.4-12.8,27-22.1,38.3c-9.4,11.3-18.4,19.1-29.3,25.5c-10.9,6.4-23.6,11.6-38.3,10.9s-31.5-7.5-41.6-16.9s-14.3-21.8-19.1-31.1c-4.9-9.4-9-15.8-16.1-19.1C142,190.8,157.9,167.9,152.6,163.8z M250,300 C 250,350 300,400 350,420 M250,300 C 250,350 200,400 150,420"/>
        </svg>
    </div>

    <div id="text-container">
        <div class="romantic-phrase" id="phrase1">
            Escalaría cada montaña,<br>
            y nadaría en cada océano...
        </div>
        <div class="romantic-phrase" id="phrase2">
            solo para estar contigo<br>
            y arreglar lo que rompí.
        </div>
        <div class="romantic-phrase" id="phrase3">
            Porque necesito que veas...<br>
            <span class="emphasis">QUE TÚ ERES LA RAZÓN.</span>
        </div>
        <h1 class="main-title" id="final-title">Feliz Aniversario Moll</h1>
    </div>


    <script>
        // --- JAVASCRIPT PARA CONTROLAR LA SECUENCIA ---

        const startButton = document.getElementById('start-button');
        const startScreen = document.getElementById('start-screen');
        const mainContainer = document.getElementById('main-container');
        const music = document.getElementById('bg-music');
        const svgPath = document.querySelector('.svg-path');
        const svgContainer = document.getElementById('svg-container');
        const photo = document.getElementById('photo');
        const phrase1 = document.getElementById('phrase1');
        const phrase2 = document.getElementById('phrase2');
        const phrase3 = document.getElementById('phrase3');
        const finalTitle = document.getElementById('final-title');

        // Ajustar volumen de música (opcional, para que no empiece muy fuerte)
        music.volume = 0.7;

        startButton.addEventListener('click', () => {
            // 1. Ocultar pantalla de inicio y mostrar contenedor
            startScreen.style.opacity = '0';
            setTimeout(() => { startScreen.style.display = 'none'; }, 800);
            mainContainer.style.opacity = '1';

            // 2. Iniciar música
            music.play().catch(error => console.log("Error al reproducir audio:", error));

            // 3. Iniciar animación del trazo (esperamos 1s para que sea dramático)
            setTimeout(() => {
                svgPath.classList.add('animate-draw');
            }, 1000);

            // 4. Secuencia de aparición (Tiempos ajustados a la duración del dibujo 5s)

            // A los 5 segundos: El dibujo termina, aparece la foto real suavemente
            setTimeout(() => {
                photo.classList.add('fade-in');
                // Opcional: desvanecer el trazo SVG para que solo quede la foto
                // svgContainer.classList.add('fade-out-svg');
            }, 6000);

            // A los 8 segundos: Primera parte de la frase
            setTimeout(() => {
                phrase1.classList.add('fade-in');
            }, 8500);

             // A los 11 segundos: Segunda parte
             setTimeout(() => {
                phrase2.classList.add('fade-in');
            }, 11500);

             // A los 14 segundos: Tercera parte (el clímax de la frase)
             setTimeout(() => {
                phrase3.classList.add('fade-in');
            }, 14500);

            // A los 17 segundos: El título final
            setTimeout(() => {
                finalTitle.classList.add('fade-in');
            }, 17500);
        });

    </script>
</body>
</html>